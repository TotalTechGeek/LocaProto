/*! 
 * LocaProto
 * 
 * Copyright 2018, Jesse Daniel Mitchell
 * Released under the MIT license.
 *
 * Date: 2018-01-30T23:26:54.214Z
 */
var LocaProto={};LocaProto.listened=[],LocaProto._random=function(){return(1e9*Math.random()).toString(36).replace(/\./g,'')},LocaProto.fromQueryString=function(a){function b(a){a=a.replace(/[\[]/,'\\[').replace(/[\]]/,'\\]');var b=new RegExp('[\\?&]'+a+'=([^&#]*)'),c=b.exec(location.search);return null===c?'':decodeURIComponent(c[1].replace(/\+/g,' '))}return a?()=>{b(a)}:location.search.substring(1)},LocaProto.cancel=LocaProto.clear=function(){LocaProto.listened.forEach((a)=>clearInterval(a)),LocaProto.listened.splice(0)},LocaProto._init=function(a){'undefined'!=typeof a&&(Array.isArray(a)?a.forEach((a)=>a(LocaProto.id)):a(LocaProto.id))},LocaProto.master=function(a){LocaProto.id=LocaProto._random(),LocaProto._init(a)},LocaProto.slave=function(a,b){LocaProto.id=a&&'function'==typeof a?a():window.location.hash.substring(1),LocaProto._init(b)},LocaProto.on=function(a,b){LocaProto.listened.push(setInterval(function(){localStorage[LocaProto.id+'-'+a]&&(b(JSON.parse(localStorage[LocaProto.id+'-'+a])),localStorage.removeItem(LocaProto.id+'-'+a))},250))},LocaProto.send=function(a,b){localStorage[LocaProto.id+'-'+a]=JSON.stringify(b)};
